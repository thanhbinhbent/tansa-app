"use strict";(self.webpackChunktansa_app=self.webpackChunktansa_app||[]).push([["10"],{1722:function(e,t,r){r.r(t),r.d(t,{ExchangeRateContext:()=>K});var n,a=r(8269),l=r(661),i=r(3140),s=r(4477),o=r(5977),c=r(6369),d=r(9983),u=r(2364),h=r(8184),y=r(8386),x=r(4396),p=r(7788),g=r(5936),f=((n={}).GrossToNet="gross_to_net",n.NetToGross="net_to_gross",n);function m(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=Math.min(r,468e5),a=.08*n,l=.015*n,i=.01*Math.min(r,992e5),s=Math.round(a+l+i),o=Math.round(e-s),c=Math.round(44e5*t),d=Math.max(0,o-11e6-c),u=function(e){if(e<=0)return 0;let t=12*e,r=0;return(t<=6e7?.05*t:t<=12e7?3e6+(t-6e7)*.1:t<=216e6?9e6+(t-12e7)*.15:t<=384e6?234e5+(t-216e6)*.2:(t-384e6)*.25+3e6+6e6+144e5+336e5)/12}(d);return{grossSalary:Math.round(e),socialInsurance:a,healthInsurance:l,unemploymentInsurance:i,totalInsurance:s,incomeBeforeTax:o,personalDeduction:11e6,dependentDeduction:c,taxableIncome:d,tax:u,netSalary:Math.round(o-u)}}function v(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;if("gross_to_net"===r)return m(e,t,n);let a=1.2*e,l=m(a,t,n);for(let r=0;r<100;r++){let r=e-l.netSalary;if(1>Math.abs(r))break;a+=r,l=m(a,t,n)}return l}var j=r(2931),S=r(2145);new S.Fq;let N=e=>{if("number"==typeof e)return e;let t=e.replace(/\D/g,"");return t?Number(t):0};async function b(e){console.log("Fetching latest exchange rates...");try{let t=(await j.Z.get("https://portal.vietcombank.com.vn/Usercontrols/TVPortal.TyGia/pXML.aspx",{timeout:1e4})).data.replace(/<!--[\s\S]*?-->/g,""),r=new S.Fq({ignoreAttributes:!1,attributeNamePrefix:""}).parse(t);if(!r.ExrateList||!r.ExrateList.Exrate)throw Error("Invalid XML format");let n=Array.isArray(r.ExrateList.Exrate)?r.ExrateList.Exrate:[r.ExrateList.Exrate],a={};n.forEach(e=>{e.CurrencyCode&&e.Sell&&"-"!==e.Sell&&(a[e.CurrencyCode]=parseFloat(e.Sell.replace(/,/g,"")))}),localStorage.setItem("exchangeRates",JSON.stringify(a)),e(a)}catch(e){console.error("Failed to fetch exchange rates:",e)}}function k(e,t,r){let n=t[r];return n?(e/n).toFixed(2):"N/A"}let C=e=>e?Number(e).toLocaleString("vi-VN"):"";r(7780);var Z=r(655);let E=()=>(0,a.jsxs)(Z.E.svg,{className:"text-gray-800 dark:text-white",xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200",fill:"none",viewBox:"0 0 24 24",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.5},children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{id:"gradientColor",gradientTransform:"rotate(0)",children:[(0,a.jsx)(Z.E.stop,{offset:"0%",stopColor:"#1677ff",animate:{stopColor:["#1677ff","#69b1ff","#1677ff"]},transition:{duration:3,repeat:1/0,ease:"linear",repeatType:"mirror"}}),(0,a.jsx)(Z.E.stop,{offset:"100%",stopColor:"#69b1ff",animate:{stopColor:["#69b1ff","#1677ff","#69b1ff"]},transition:{duration:3,repeat:1/0,ease:"linear",repeatType:"mirror"}})]})}),(0,a.jsx)(Z.E.path,{stroke:"url(#gradientColor)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.3",d:"M13.6 16.733c.234.269.548.456.895.534a1.4 1.4 0 0 0 1.75-.762c.172-.615-.446-1.287-1.242-1.481-.796-.194-1.41-.861-1.241-1.481a1.4 1.4 0 0 1 1.75-.762c.343.077.654.26.888.524m-1.358 4.017v.617m0-5.939v.725M4 15v4m3-6v6M6 8.5 10.5 5 14 7.5 18 4m0 0h-3.5M18 4v3m2 8a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:1.5,ease:"easeInOut"}})]});var w=r(2277),T=r(2470);let{Text:M}=s.Z,{useToken:G}=w.Z;function L(e){let{breakdown:t}=e,{token:r}=G(),[n,i]=(0,l.useState)({}),[s,o]=(0,l.useState)(localStorage.getItem("selectedCurrency")||"USD");(0,l.useEffect)(()=>{let e=localStorage.getItem("exchangeRates");e&&i(JSON.parse(e))},[]),(0,l.useEffect)(()=>{t&&i(e=>({...e}))},[t]);let c=[{key:"gross",label:"Lương GROSS",value:null==t?void 0:t.grossSalary,color:r.colorPrimary},{key:"social",label:"Bảo hiểm x\xe3 hội (8%)",value:null==t?void 0:t.socialInsurance},{key:"health",label:"Bảo hiểm y tế (1.5%)",value:null==t?void 0:t.healthInsurance},{key:"unemployment",label:"Bảo hiểm thất nghiệp (1%)",value:null==t?void 0:t.unemploymentInsurance},{key:"incomeBeforeTax",label:"Thu nhập trước thuế",value:null==t?void 0:t.incomeBeforeTax},{key:"taxableIncome",label:"Thu nhập chịu thuế",value:null==t?void 0:t.taxableIncome},{key:"tax",label:"Thuế thu nhập c\xe1 nh\xe2n",value:null==t?void 0:t.tax},{key:"net",label:"Lương NET",value:null==t?void 0:t.netSalary,color:r.colorPrimary}],d=[{title:"Mục",dataIndex:"label",key:"label",render:e=>(0,a.jsx)(M,{strong:!0,children:e})},{title:"Gi\xe1 trị",dataIndex:"value",key:"value",render:(e,t)=>{let l="gross"===t.key||"net"===t.key;return(0,a.jsxs)("div",{children:[(0,a.jsxs)(M,{strong:l,style:{color:l?r.colorPrimary:"inherit",fontSize:l?"16px":"14px"},children:[null==e?void 0:e.toLocaleString("vi-VN")," VNĐ"]}),(0,a.jsx)("br",{}),(0,a.jsx)(M,{type:"secondary",children:n[s]?`${k(e||0,n,s)} ${s}`:"Đang tải..."})]})}}];return(0,a.jsx)(T.Z,{dataSource:c,columns:d,pagination:!1,bordered:!0,size:"small"})}var I=r(9376);function P(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=[];for(let l of t){let t;let i=Math.round(e*(1+l/100));t=r===f.GrossToNet?m(i,n):v(i,n,f.NetToGross),a.push({baseSalary:e,increasePercent:l,conversionType:r,newGrossSalary:Math.round(t.grossSalary),newNetSalary:Math.round(t.netSalary)})}return a}var O=r(3232),R=r(3357),A=r(6311);let{Text:F}=s.Z;function V(e){let{baseSalary:t,conversionType:r,dependents:n=0,percentageIncreases:i=[10,20,30]}=e,[s,o]=(0,l.useState)(""),[c,d]=(0,l.useState)([]),[y,x]=(0,l.useState)(localStorage.getItem("selectedCurrency")||"USD"),[g,f]=(0,l.useState)({}),[m,v]=(0,l.useState)(null),[j,S]=(0,l.useState)([]);(0,l.useEffect)(()=>{b(f)},[]),(0,l.useEffect)(()=>{c.length>0&&d(c.map(e=>Object.assign({},P(t,[e.increasePercent],r,n)[0],{isCustom:!0,key:e.key})))},[t,r,n]);let N=e=>{S(t=>[...t,e]),d(t=>t.filter(t=>t.key!==e))},C=[...c,...P(t,i,r,n).map((e,t)=>Object.assign({},e,{key:`default-${e.increasePercent}-${t}`}))].filter(e=>!j.includes(e.key)),E=[{title:"(%) tăng",dataIndex:"increasePercent",key:"increasePercent",render:(e,t)=>(0,a.jsxs)(F,{strong:t.isCustom,children:[e,"%"]})},{title:"Gi\xe1 trị (VND)",key:"salaryDetails",render:(e,t)=>(0,a.jsxs)("div",{style:{position:"relative"},children:[(0,a.jsxs)(u.Z,{direction:"vertical",children:[(0,a.jsxs)(F,{strong:t.isCustom,children:["GROSS: ",t.newGrossSalary.toLocaleString("vi-VN")]}),(0,a.jsxs)(F,{type:"secondary",children:[g[y]?k(t.newGrossSalary,g,y):"Đang tải..."," ",y]}),(0,a.jsxs)(F,{strong:t.isCustom,children:["NET: ",t.newNetSalary.toLocaleString("vi-VN")]}),(0,a.jsxs)(F,{type:"secondary",children:[g[y]?k(t.newNetSalary,g,y):"Đang tải..."," ",y]})]}),(0,a.jsx)(R.M,{children:m===t.key&&(0,a.jsx)(Z.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"absolute",right:8,top:"50%",transform:"translateY(-50%)"},children:(0,a.jsx)(p.ZP,{danger:!0,type:"text",icon:(0,a.jsx)(O.Z,{style:{color:"#ff4d4f"}}),style:{backgroundColor:"#fff1f0",borderRadius:4,padding:4},onClick:()=>N(t.key)})})})]})}];return(0,a.jsxs)(I.Z,{vertical:!0,gap:16,children:[(0,a.jsxs)(I.Z,{gap:8,style:{width:"100%"},children:[(0,a.jsx)(h.Z,{type:"number",placeholder:"Nhập tỉ lệ % mong muốn",value:s,onChange:e=>o(e.target.value),style:{flex:1}}),(0,a.jsx)(p.ZP,{type:"primary",onClick:()=>{let e=parseFloat(s);if(!isNaN(e)&&e>0){let a=Object.assign({},P(t,[e],r,n)[0],{isCustom:!0,key:(0,A.Z)()});d(e=>[a,...e]),o("")}},style:{flex:.2},children:"T\xednh"})]}),(0,a.jsx)(T.Z,{dataSource:C,columns:E,pagination:!1,bordered:!0,rowKey:"key",onRow:e=>({onMouseEnter:()=>v(e.key),onMouseLeave:()=>v(null)})})]})}let{Title:_,Text:B}=s.Z,{useBreakpoint:D}=o.ZP;function W(){let[e,t]=(0,l.useState)(""),[r,n]=(0,l.useState)(""),[i,s]=(0,l.useState)(f.GrossToNet),[o,m]=(0,l.useState)(null),[j,S]=(0,l.useState)(void 0),[b,k]=(0,l.useState)(!1),w=D();return(0,l.useEffect)(()=>{if(!b)return;let t=Number(e),n=Number(r),a=void 0!==j?Number(j):void 0;if(!isNaN(t)&&t>0){let e=isNaN(n)?0:n,r=void 0===a||isNaN(a)?t:a;m(v(t,e,i,r))}else m(null)},[e,r,i,j,b]),(0,a.jsx)(Z.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5},style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:(0,a.jsx)(c.Z,{children:(0,a.jsxs)("div",{style:{display:"flex",gap:"32px",flexWrap:"wrap",flexDirection:w.md?"row":"column",width:"100%"},children:[(0,a.jsxs)("div",{style:{maxWidth:w.md?"320px":"100%"},children:[(0,a.jsx)(_,{level:2,style:{textAlign:"center"},children:"TANSA"}),(0,a.jsx)(B,{type:"secondary",style:{textAlign:"center",display:"block",width:"100%"},children:"C\xf4ng cụ t\xednh lương GROSS, NET ch\xednh x\xe1c"}),(0,a.jsx)(d.Z,{}),(0,a.jsxs)(u.Z,{direction:"vertical",size:"large",style:{width:"100%"},children:[(0,a.jsxs)(u.Z,{direction:"vertical",style:{width:"100%"},children:[(0,a.jsx)(B,{strong:!0,children:"Nhập mức lương (VNĐ):"}),(0,a.jsx)(h.Z,{type:"text",value:""!==e?C(e):"",onChange:e=>t(N(e.target.value))})]}),(0,a.jsxs)(u.Z,{direction:"vertical",style:{width:"100%"},children:[(0,a.jsx)(B,{strong:!0,children:"Số người phụ thuộc:"}),(0,a.jsx)(h.Z,{type:"text",value:""!==r?C(r):"",onChange:e=>n(N(e.target.value))})]}),(0,a.jsxs)(u.Z,{direction:"vertical",style:{width:"100%"},children:[(0,a.jsx)(y.Z,{title:"Chỉ nhập trong trường hợp lương đ\xf3ng bảo hiểm kh\xe1c với lương thực tế.",children:(0,a.jsx)(B,{strong:!0,children:"Mức lương đ\xf3ng bảo hiểm:"})}),(0,a.jsx)(h.Z,{type:"text",value:void 0!==j?C(j):"",onChange:e=>{let t=e.target.value,r=N(t);S(""===t||null===r?void 0:r)}})]}),(0,a.jsxs)(u.Z,{direction:"vertical",style:{width:"100%"},children:[(0,a.jsx)(B,{strong:!0,children:"Loại chuyển đổi:"}),(0,a.jsx)(x.ZP.Group,{value:i,onChange:e=>s(e.target.value),children:(0,a.jsxs)(u.Z,{direction:"vertical",children:[(0,a.jsx)(x.ZP,{value:f.GrossToNet,children:"GROSS ➜ NET"}),(0,a.jsx)(x.ZP,{value:f.NetToGross,children:"NET ➜ GROSS"})]})})]}),!b&&(0,a.jsx)(p.ZP,{type:"primary",onClick:()=>{let t=Number(e),n=Number(r),a=void 0!==j?Number(j):void 0;if(!isNaN(t)&&t>0){let e=isNaN(n)?0:n,r=void 0===a||isNaN(a)?t:a;m(v(t,e,i,r)),k(!0)}else m(null)},block:!0,children:"Chuyển đổi"})]})]}),o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Z.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5},style:{flex:1},children:(0,a.jsx)(g.Z,{defaultActiveKey:["1"],style:{minWidth:w.md?"400px":"100%"},items:[{key:"1",label:"Kết quả",children:(0,a.jsx)(L,{breakdown:o})}]})}),(0,a.jsx)(Z.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},style:{flex:1},children:(0,a.jsx)(g.Z,{defaultActiveKey:["1"],style:{minWidth:w.md?"400px":"100%"},items:[{key:"1",label:"Xem mức lương c\xf3 thể tăng",children:(0,a.jsx)(V,{baseSalary:N(e),conversionType:i,dependents:Number(r)||0})}]})})]}):(0,a.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,a.jsx)(E,{})})]})})})}r(557);let K=(0,l.createContext)({});i.createRoot(document.getElementById("app")).render((0,a.jsx)(()=>{let[e,t]=(0,l.useState)({});return(0,l.useEffect)(()=>{b(t)},[]),(0,a.jsx)(K.Provider,{value:e,children:(0,a.jsx)(W,{})})},{}))},7780:function(e,t,r){e.exports={}},557:function(e,t,r){e.exports={}}}]);
//# sourceMappingURL=10.js.map